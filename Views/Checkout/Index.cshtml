@model Cart

@{
    ViewData["Title"] = "Checkout";
    ViewBag.HideHeader = false;
}

<div class="container py-5">
    <h2 class="text-center mb-5 text-white">Ödeme Bilgileri</h2>

    <form asp-controller="Checkout" asp-action="Index" method="post">
        <input type="hidden" asp-for="Id" value="@Model.Id" />
        
        <div class="row g-4">
            <div class="col-md-6">
                <div class="card bg-black text-white border-white shadow-sm rounded-3">
                    <div class="card-header border-bottom border-white">
                        <h4 class="mb-0">Adres Bilgileri</h4>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="shippingFullName" class="form-label">İsim Soyisim</label>
                            <input type="text" class="form-control bg-dark text-white border-white no-outline" id="shippingFullName" name="shippingFullName" required />
                        </div>
                        <div class="mb-3">
                            <label for="shippingStreet" class="form-label">Sokak</label>
                            <input type="text" class="form-control bg-dark text-white border-white no-outline" id="shippingStreet" name="shippingStreet" required />
                        </div>
                        <div class="mb-3">
                            <label for="shippingCity" class="form-label">İlçe</label>
                            <input type="text" class="form-control bg-dark text-white border-white no-outline" id="shippingCity" name="shippingCity" required />
                        </div>
                        <div class="mb-3">
                            <label for="shippingState" class="form-label">Şehir</label>
                            <input type="text" class="form-control bg-dark text-white border-white no-outline" id="shippingState" name="shippingState" />
                        </div>
                        <div class="mb-3">
                            <label for="shippingZipCode" class="form-label">Zip Kodu</label>
                            <input type="text" class="form-control bg-dark text-white border-white no-outline" id="shippingZipCode" name="shippingZipCode" required />
                        </div>
                        <div class="mb-3">
                            <label for="shippingCountry" class="form-label">Ülke</label>
                            <input type="text" class="form-control bg-dark text-white border-white no-outline" id="shippingCountry" name="shippingCountry" required />
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card bg-black text-white border-white shadow-sm rounded-3">
                    <div class="card-header border-bottom border-white">
                        <h4 class="mb-0">Ödeme Bilgileri</h4>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="paymentMethod" class="form-label">Ödeme Yöntemi</label>
                            <select class="form-select bg-dark text-white border-white no-outline" id="paymentMethod" name="paymentMethod" required>
                                <option value="Kredi Kartı">Kredi Kartı</option>
                                <option value="PayPal">PayPal</option>
                                <option value="Havale">Havale</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="cardNumber" class="form-label">Kart Numarası</label>
                            <input type="text" class="form-control bg-dark text-white border-white no-outline" id="cardNumber" name="cardNumber" required />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Order Summary -->
        <div class="card mt-4 bg-black text-white border-white shadow-sm rounded-3">
            <div class="card-header border-bottom border-white">
                <h4 class="mb-0">Sipariş Özeti</h4>
            </div>
            <div class="card-body">
                <table class="table table-dark table-striped border-white">
                    <thead>
                        <tr>
                            <th>Ürün</th>
                            <th>Miktar</th>
                            <th>Fiyat</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.CartItems != null && Model.CartItems.Any())
                        {
                            foreach (var item in Model.CartItems)
                            {
                                <tr>
                                    <td>@item.Products.name</td>
                                    <td>@item.Quantity</td>
                                    <td>@item.Products.price.ToString("C")</td>
                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="3" class="text-center">Karta ürün yok.</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="d-flex justify-content-end mt-4">
            <button type="submit" class="btn btn-outline-light">
               Ödeme Yap
            </button>
        </div>
    </form>
</div>

<style>
    .no-outline:focus {
        outline: none !important;
        box-shadow: none !important;
    }
</style>
